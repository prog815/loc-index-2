# Локальный поисковик. Версия 2.

Поисковый сервер для локальной сети предприятия.

Реализован в виде образа (контейнера) Docker.
Собирается администратором на интернет машине.
Затем образ переносится в локальную сеть и запускается в локальной сети предприятия.

В рабочем состоянии поисковый сервер периодически сканирует каталог с файлами локальной сети и сохраняет у себя пути к этим файлам.
Пользователи подключаются через интернет-браузер к поисковому серверу и при помощи поисковой строки ищут файлы как в обычном интернет-поисковике. Затем нажимают на найденный файл и скачивают себе на компьютер.

Поиск по локальной сети средствами Windows занимает очень много времени. Здесь же пользователи получают мгновенный ответ и могут многократно осуществлять поиск файлов по имени или пути. Ответ будет мгновенным.

Новости проекта и обсуждение по ссылке https://vk.com/feed?q=%23locindex2&section=search

# Установка программы
Для установки программы на своем сервере(компьютере) скачиваем проект и создаем образ для контейнера.

## Скачивание

Скачиваем себе проект.
```
git clone https://github.com/prog815/loc-index-2.git
```
Получится каталог с файлами. Переходим в него.
```
cd loc-index-2/
```

## Создание образа

Теперь создадим контейнер из скачанного образа:

```
docker build --pull --rm -f "Dockerfile" -t locindex2:latest .
```

# Контейнер
После того как собран образ. Можно его запускать или удалять.

## Запуск контейнера

Вариант с подключением демонстрационной папки для сканирования (папка /files в текущем проекте):
```
docker run -d -p80:5000 --mount type=bind,source="$(pwd)"/files,target=/app/static/files,readonly --name locindex2 locindex2
```
Вариант с подключением отдельной папки для сканирования (C:\Users\prog\Downloads)
```
docker run -d -p80:5000 --mount type=bind,source=C:\Users\prog\Downloads,target=/app/static/files,readonly --name locindex2 locindex2
```
Вместо 80-го порта можно прописать другой. Это уже как решит администратор в локальной сети.

## Список запущенных контейнеров

```
docker container ls
```

## Удалить контейнер

```
docker rm -f locindex2
```

## Подключиться к контейнеру

```
docker exec -it locindex2 /bin/sh
```

# Работа с программой
После того как в сети предприятия (или на локальном компьютере) запущен контейнер пользователям можно при помощи интернет-браузера подключаться к нему.

Запускаем в браузере http://localhost (если на локальном компьютере) или http://<имя или адрес сервера в локальной сети> (если подключаемся по локальной сети) и в поисковой строке пишем через пробелы последовательности символов которые должны быть в пути к файлу. Жмем "искать". Видим результат перед собой.